<svg width="1200" height="1000" viewBox="0 0 1200 1000" xmlns="http://www.w3.org/2000/svg" font-family="Arial, sans-serif" font-size="12">
    <style>
        .entity-box {
            stroke: #2c3e50;
            stroke-width: 2;
            fill: #ecf0f1;
        }
        .entity-header-bg {
            fill: #34495e;
        }
        .entity-header-text {
            fill: white;
            font-weight: bold;
            font-size: 14px;
        }
        .attribute-text {
            fill: #2c3e50;
            font-size: 11px;
        }
        .pk-attribute {
            font-weight: bold;
            text-decoration: underline;
        }
        .fk-attribute {
            font-style: italic;
        }
        .relationship-line {
            stroke: #2c3e50;
            stroke-width: 1.5;
            fill: none;
        }
        /* Cardinality markers */
        .one-marker {
            stroke: #2c3e50;
            stroke-width: 1.5;
        }
        .many-marker {
            stroke: #2c3e50;
            stroke-width: 1.5;
            fill: none;
        }
        .optional-marker {
            stroke: #2c3e50;
            stroke-width: 1.5;
            fill: none;
        }
        .diamond {
            stroke: #2c3e50;
            stroke-width: 1.5;
            fill: #c2d9e4;
        }
        .relationship-label {
            font-size: 11px;
            fill: #2c3e50;
            text-anchor: middle;
        }
        .dashed-line {
            stroke-dasharray: 5 3;
        }
    </style>

    <g id="customer_entity">
        <rect x="50" y="50" width="180" height="195" rx="5" ry="5" class="entity-box"/>
        <rect x="50" y="50" width="180" height="25" rx="5" ry="5" class="entity-header-bg"/>
        <text x="140" y="68" text-anchor="middle" class="entity-header-text">CUSTOMER</text>
        <text x="60" y="90" class="attribute-text pk-attribute">customer_id (PK)</text>
        <text x="60" y="110" class="attribute-text">name</text>
        <text x="60" y="130" class="attribute-text">email</text>
        <text x="60" y="150" class="attribute-text">phone</text>
        <text x="60" y="170" class="attribute-text">address</text>
        <text x="60" y="190" class="attribute-text">registration_date</text>
        <text x="60" y="210" class="attribute-text">password_hash</text>
    </g>

    <g id="order_entity">
        <rect x="350" y="50" width="200" height="225" rx="5" ry="5" class="entity-box"/>
        <rect x="350" y="50" width="200" height="25" rx="5" ry="5" class="entity-header-bg"/>
        <text x="450" y="68" text-anchor="middle" class="entity-header-text">ORDER</text>
        <text x="360" y="90" class="attribute-text pk-attribute">order_id (PK)</text>
        <text x="360" y="110" class="attribute-text fk-attribute">customer_id (FK)</text>
        <text x="360" y="130" class="attribute-text">order_date</text>
        <text x="360" y="150" class="attribute-text">total_amount</text>
        <text x="360" y="170" class="attribute-text">payment_status</text>
        <text x="360" y="190" class="attribute-text">order_status</text>
        <text x="360" y="210" class="attribute-text">shipping_address</text>
        <text x="360" y="230" class="attribute-text">billing_address</text>
    </g>

    <g id="book_config_entity">
        <rect x="700" y="50" width="200" height="255" rx="5" ry="5" class="entity-box"/>
        <rect x="700" y="50" width="200" height="25" rx="5" ry="5" class="entity-header-bg"/>
        <text x="800" y="68" text-anchor="middle" class="entity-header-text">BOOK_CONFIG</text>
        <text x="710" y="90" class="attribute-text pk-attribute">book_config_id (PK)</text>
        <text x="710" y="110" class="attribute-text">title</text>
        <text x="710" y="130" class="attribute-text">author</text>
        <text x="710" y="150" class="attribute-text">page_count</text>
        <text x="710" y="170" class="attribute-text">page_size</text>
        <text x="710" y="190" class="attribute-text">cover_type</text>
        <text x="710" y="210" class="attribute-text">binding_type</text>
        <text x="710" y="230" class="attribute-text">paper_type</text>
        <text x="710" y="250" class="attribute-text">color_printing</text>
        <text x="710" y="270" class="attribute-text">manuscript_file_path</text>
        <text x="710" y="290" class="attribute-text">cover_file_path</text>
    </g>

    <g id="order_item_entity">
        <rect x="475" y="380" width="180" height="150" rx="5" ry="5" class="entity-box"/>
        <rect x="475" y="380" width="180" height="25" rx="5" ry="5" class="entity-header-bg"/>
        <text x="565" y="398" text-anchor="middle" class="entity-header-text">ORDER_ITEM</text>
        <text x="485" y="420" class="attribute-text pk-attribute">item_id (PK)</text>
        <text x="485" y="440" class="attribute-text fk-attribute">order_id (FK)</text>
        <text x="485" y="460" class="attribute-text fk-attribute">book_config_id (FK)</text>
        <text x="485" y="480" class="attribute-text">quantity</text>
        <text x="485" y="500" class="attribute-text">unit_price</text>
        <text x="485" y="520" class="attribute-text">subtotal</text>
    </g>

    <g id="staff_entity">
        <rect x="50" y="600" width="180" height="175" rx="5" ry="5" class="entity-box"/>
        <rect x="50" y="600" width="180" height="25" rx="5" ry="5" class="entity-header-bg"/>
        <text x="140" y="618" text-anchor="middle" class="entity-header-text">STAFF</text>
        <text x="60" y="640" class="attribute-text pk-attribute">staff_id (PK)</text>
        <text x="60" y="660" class="attribute-text">name</text>
        <text x="60" y="680" class="attribute-text">email</text>
        <text x="60" y="700" class="attribute-text">role</text>
        <text x="60" y="720" class="attribute-text">department</text>
        <text x="60" y="740" class="attribute-text">password_hash</text>
    </g>

    <g id="production_stage_entity">
        <rect x="350" y="600" width="200" height="190" rx="5" ry="5" class="entity-box"/>
        <rect x="350" y="600" width="200" height="25" rx="5" ry="5" class="entity-header-bg"/>
        <text x="450" y="618" text-anchor="middle" class="entity-header-text">PRODUCTION_STAGE</text>
        <text x="360" y="640" class="attribute-text pk-attribute">stage_id (PK)</text>
        <text x="360" y="660" class="attribute-text fk-attribute">order_id (FK)</text>
        <text x="360" y="680" class="attribute-text fk-attribute">staff_id (FK)</text>
        <text x="360" y="700" class="attribute-text">stage_name</text>
        <text x="360" y="720" class="attribute-text">start_date</text>
        <text x="360" y="740" class="attribute-text">end_date</text>
        <text x="360" y="760" class="attribute-text">status</text>
        <text x="360" y="780" class="attribute-text">notes</text>
    </g>

    <g id="notification_entity">
        <rect x="700" y="600" width="220" height="195" rx="5" ry="5" class="entity-box"/>
        <rect x="700" y="600" width="220" height="25" rx="5" ry="5" class="entity-header-bg"/>
        <text x="810" y="618" text-anchor="middle" class="entity-header-text">NOTIFICATION</text>
        <text x="710" y="640" class="attribute-text pk-attribute">notification_id (PK)</text>
        <text x="710" y="660" class="attribute-text">recipient_id</text>
        <text x="710" y="680" class="attribute-text">recipient_type</text>
        <text x="710" y="700" class="attribute-text">message</text>
        <text x="710" y="720" class="attribute-text">created_at</text>
        <text x="710" y="740" class="attribute-text">is_read</text>
        <text x="710" y="760" class="attribute-text">notification_type</text>
    </g>

    <g id="rel_customer_order">
        <line x1="230" y1="150" x2="350" y2="150" class="relationship-line"/>
        <line x1="230" y1="140" x2="230" y2="160" class="one-marker"/>
        <path d="M340,140 L350,150 M340,160 L350,150 M340,150 L350,150" class="many-marker"/>
        <text x="290" y="140" class="relationship-label">places</text>
    </g>

    <g id="rel_order_order_item">
        <line x1="450" y1="275" x2="450" y2="380" class="relationship-line"/>
        <line x1="440" y1="275" x2="460" y2="275" class="one-marker"/>
        <path d="M440,370 L450,380 M460,370 L450,380 M450,370 L450,380" class="many-marker"/>
        <text x="455" y="325" class="relationship-label">contains</text>
    </g>

    <g id="rel_bookconfig_orderitem">
        <line x1="750" y1="305" x2="565" y2="380" class="relationship-line"/>
        <line x1="750" y1="295" x2="750" y2="315" class="one-marker"/>
        <path d="M575,370 L565,380 M555,370 L565,380 M565,370 L565,380" class="many-marker"/>
        <text x="650" y="340" class="relationship-label">references</text>
    </g>

    <g id="rel_order_prodstage">
        <line x1="450" y1="275" x2="450" y2="600" class="relationship-line"/>
        <line x1="440" y1="275" x2="460" y2="275" class="one-marker"/>
        <path d="M440,590 L450,600 M460,590 L450,600 M450,590 L450,600" class="many-marker"/>
        <text x="455" y="435" class="relationship-label">tracks</text>
    </g>

    <g id="rel_staff_prodstage">
        <line x1="230" y1="690" x2="350" y2="690" class="relationship-line"/>
        <line x1="230" y1="680" x2="230" y2="700" class="one-marker"/>
        <path d="M340,680 L350,690 M340,700 L350,690 M340,690 L350,690" class="many-marker"/>
        <text x="290" y="680" class="relationship-label">assigned_to</text>
    </g>

    <g id="rel_customer_notification">
        <line x1="230" y1="200" x2="700" y2="690" class="relationship-line dashed-line"/>
        <line x1="230" y1="190" x2="230" y2="210" class="one-marker"/>
        <path d="M690,680 L700,690 M690,700 L700,690 M690,690 L700,690" class="many-marker"/>
        <circle cx="690" cy="690" r="4" fill="white" stroke="#2c3e50" stroke-width="1.5"/>
        <text x="480" y="450" class="relationship-label">receives</text>
    </g>

    <g id="rel_staff_notification">
        <line x1="230" y1="720" x2="700" y2="720" class="relationship-line dashed-line"/>
        <line x1="230" y1="710" x2="230" y2="730" class="one-marker"/>
        <path d="M690,710 L700,720 M690,730 L700,720 M690,720 L700,720" class="many-marker"/>
        <circle cx="690" cy="720" r="4" fill="white" stroke="#2c3e50" stroke-width="1.5"/>
        <text x="465" y="710" class="relationship-label">receives</text>
    </g>

</svg>
