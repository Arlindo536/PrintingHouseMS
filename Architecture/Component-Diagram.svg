<svg viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" font-size="20" font-weight="bold">PrintingHouseMS Component Diagram</text>
  
  <!-- Main System Box -->
  <rect x="100" y="50" width="600" height="500" stroke="black" fill="none" stroke-width="2" rx="10"/>
  <text x="400" y="80" text-anchor="middle" font-size="16" font-weight="bold">Prestige Printing House System</text>
  
  <!-- Customer Portal Components -->
  <rect x="150" y="120" width="200" height="80" stroke="#0066cc" fill="#e6f7ff" stroke-width="2" rx="5"/>
  <text x="250" y="160" text-anchor="middle" font-size="14">Customer Portal</text>
  
  <rect x="150" y="220" width="200" height="80" stroke="#0066cc" fill="#e6f7ff" stroke-width="2" rx="5"/>
  <text x="250" y="260" text-anchor="middle" font-size="14">Order Configurator</text>
  
  <rect x="150" y="320" width="200" height="80" stroke="#0066cc" fill="#e6f7ff" stroke-width="2" rx="5"/>
  <text x="250" y="360" text-anchor="middle" font-size="14">Preview Generator</text>
  
  <!-- Staff Portal Components -->
  <rect x="450" y="120" width="200" height="80" stroke="#cc6600" fill="#fff2e6" stroke-width="2" rx="5"/>
  <text x="550" y="160" text-anchor="middle" font-size="14">Staff Portal</text>
  
  <rect x="450" y="220" width="200" height="80" stroke="#cc6600" fill="#fff2e6" stroke-width="2" rx="5"/>
  <text x="550" y="260" text-anchor="middle" font-size="14">Production Tracker</text>
  
  <rect x="450" y="320" width="200" height="80" stroke="#cc6600" fill="#fff2e6" stroke-width="2" rx="5"/>
  <text x="550" y="360" text-anchor="middle" font-size="14">Workflow Manager</text>
  
  <!-- Shared Components -->
  <rect x="300" y="420" width="200" height="80" stroke="#333" fill="#f0f0f0" stroke-width="2" rx="5"/>
  <text x="400" y="460" text-anchor="middle" font-size="14">Database</text>
  
  <rect x="300" y="120" width="200" height="80" stroke="#333" fill="#f0f0f0" stroke-width="2" rx="5"/>
  <text x="400" y="160" text-anchor="middle" font-size="14">Pricing Engine</text>
  
  <!-- Connections (Fixed arrow paths) -->
  <line x1="250" y1="200" x2="250" y2="220" stroke="#0066cc" stroke-width="2"/>
  <line x1="250" y1="300" x2="250" y2="320" stroke="#0066cc" stroke-width="2"/>
  <line x1="350" y1="160" x2="450" y2="160" stroke="#333" stroke-width="2" stroke-dasharray="5,5"/>
  <line x1="350" y1="260" x2="450" y2="260" stroke="#333" stroke-width="2" stroke-dasharray="5,5"/>
  <line x1="300" y1="200" x2="300" y2="220" stroke="#333" stroke-width="2"/>
  <line x1="300" y1="300" x2="300" y2="320" stroke="#333" stroke-width="2"/>
  
  <!-- Corrected Database connections (arrows now stop at box edge) -->
  <line x1="250" y1="400" x2="300" y2="420" stroke="#333" stroke-width="2"/>
  <line x1="550" y1="400" x2="400" y2="420" stroke="#333" stroke-width="2"/>
  <polygon points="295,420 300,420 300,425" fill="#333"/> <!-- Arrowhead for Customer->DB -->
  <polygon points="405,420 400,420 400,425" fill="#333"/> <!-- Arrowhead for Staff->DB -->
  
  <!-- Legend -->
  <rect x="100" y="520" width="200" height="60" stroke="#0066cc" fill="#e6f7ff" stroke-width="1" rx="5"/>
  <text x="120" y="540" font-size="12">Customer Portal Components</text>
  
  <rect x="350" y="520" width="200" height="60" stroke="#cc6600" fill="#fff2e6" stroke-width="1" rx="5"/>
  <text x="370" y="540" font-size="12">Staff Portal Components</text>
  
  <rect x="600" y="520" width="100" height="60" stroke="#333" fill="#f0f0f0" stroke-width="1" rx="5"/>
  <text x="620" y="540" font-size="12">Shared</text>
</svg>
